å›¾å½¢åŒ–çš„é€’å½’è°ƒç”¨æ ‘ï¼ˆåƒæµç¨‹å›¾ä¸€æ ·ï¼‰
è°ƒç”¨æ ˆæ¨¡æ‹Ÿï¼ˆä»ä¸Šåˆ°ä¸‹è¡¨ç¤ºåè°ƒçš„ï¼‰ï¼š

å›¾å½¢åŒ–çš„é€’å½’è°ƒç”¨æ ‘ï¼ˆåƒæµç¨‹å›¾ä¸€æ ·ï¼‰ + å®Œå…¨çš„ä»£ç  + äºŒå‰æ ‘æ¡ˆä¾‹

xxxå’Œyyyåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­çš„æ•°æ®å˜åŒ–æ˜¯æ€ä¹ˆæ ·çš„ï¼Œç»“åˆé€’å½’æ ‘çš„è¿‡ç¨‹
# 
å¤ªæ£’äº†ï¼è¿™æ˜¯ LeetCode 78. å­é›†ï¼ˆSubsetsï¼‰ï¼Œå›æº¯ç®—æ³•çš„åˆä¸€ç»å…¸ï¼

ç»™ä½  `nums = [1,2,3]`ï¼Œè¦æ±‚æ‰€æœ‰å¯èƒ½çš„å­é›†ï¼ˆåŒ…æ‹¬ç©ºé›†å’Œæœ¬èº«ï¼‰ï¼Œå…± 2Â³ = **8 ä¸ª**ã€‚

ä½ ç°åœ¨çš„ä»»åŠ¡æ˜¯æ‰‹æ’•ä»£ç  + ç”»å‡º**å›¾å½¢åŒ–çš„é€’å½’è°ƒç”¨æ ‘ï¼ˆåƒæµç¨‹å›¾ä¸€æ ·ï¼‰**ï¼Œæˆ‘æ¥ç»™ä½ æœ€æ¸…æ™°ã€æœ€æ ‡å‡†ã€æœ€é€‚åˆé¢è¯•ç°åœºç”»çš„ç‰ˆæœ¬ï¼

### é€’å½’æ ‘ï¼

---

### ç»ˆææ¨èä»£ç ï¼ˆé¢è¯•æœ€ä¼˜å†™æ³•ï¼‰

```javascript
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var subsets = function(nums) {
    const res = [];
    const path = [];

    const backtrack = (startIndex) => {
        // æ¯æ¬¡è¿›å…¥ï¼Œéƒ½æ˜¯ä¸€æ¡åˆæ³•è·¯å¾„ï¼ç›´æ¥æ”¶é›†
        res.push(path.slice());

        // ä» startIndex å¼€å§‹å‘åæšä¸¾ï¼Œé¿å…é‡å¤
        for (let i = startIndex; i < nums.length; i++) {
            // åšé€‰æ‹©ï¼šé€‰ nums[i]
            path.push(nums[i]);
            // é€’å½’ï¼šæ³¨æ„ä¼  i + 1ï¼Œæ§åˆ¶ä¸‹ä¸€å±‚ä»å“ªé‡Œå¼€å§‹é€‰
            backtrack(i + 1);
            // æ’¤é”€é€‰æ‹©
            path.pop();
        }
    };

    backtrack(0);
    return res;
};
```

**å…³é”®æŠ€å·§**ï¼š`startIndex é˜²æ­¢é‡å¤ + æ¯æ¬¡é€’å½’å…¥å£éƒ½æ”¶é›†ç»“æœï¼

---

### å›¾å½¢åŒ–é€’å½’è°ƒç”¨æ ‘ï¼ˆè¶…çº§æ¸…æ™°æµç¨‹å›¾ç‰ˆï¼ï¼‰

```
                          backtrack(0)
                          path = []
                          â†“ æ”¶é›† [] â† ç©ºé›†ï¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚          â”‚          â”‚
              é€‰1        ä¸é€‰1      ä¸é€‰1
           backtrack(1)           (ç›´æ¥è¿›å…¥ä¸‹ä¸€è½®)
           path=[1]               ç»§ç»­ for å¾ªç¯
           â†“ æ”¶é›† [1]             â†“
       â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
       â”‚         â”‚            â”‚         â”‚
      é€‰2      ä¸é€‰2         é€‰3      ä¸é€‰3
   backtrack(2)         backtrack(2)     (ç»“æŸ)
   path=[1,2]           path=[1]
   â†“ æ”¶é›†[1,2]           æ”¶é›†[1]
       â”‚                     â”‚
      é€‰3                  é€‰3
   backtrack(3)         backtrack(3)
   path=[1,2,3]         path=[1,3]
   æ”¶é›†[1,2,3]           æ”¶é›†[1,3]
       â”‚                     â”‚
      ç»“æŸ                  ç»“æŸ
```

ç»§ç»­ä»æœ€å¤–å±‚ for å¾ªç¯çš„ i=1 å¼€å§‹ï¼ˆé€‰2ï¼‰

```
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                i=1 â†’ é€‰2
                 backtrack(1)
                 path=[2]
                 â†“ æ”¶é›† [2]
             â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
             â”‚         â”‚
            é€‰3      ä¸é€‰3
         backtrack(2)   (ç»“æŸ)
         path=[2,3]
         æ”¶é›†[2,3]
```

æœ€å i=2 â†’ é€‰3

```
                 backtrack(2)
                 path=[3]
                 â†“ æ”¶é›† [3]
                 for å¾ªç¯ç»“æŸ
```

### å®Œæ•´é€’å½’æ ‘ï¼ˆæ‰‹ç»˜çº§æ¸…æ™°ï¼ï¼‰

```
                              backtrack(start=0)
                                   path = []
                                   â†“ æ”¶é›† [] 
                                     â”‚
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          é€‰1(i=0)             é€‰2(i=1)               é€‰3(i=2)
             â”‚                       â”‚                       â”‚
      backtrack(1)            backtrack(2)            backtrack(3)
        path=[1]                path=[2]                path=[3]
         â†“ æ”¶é›†[1]               â†“ æ”¶é›†[2]               â†“ æ”¶é›†[3]
         â”‚                       â”‚                       â”‚
     â”Œâ”€â”€â”€â”´â”€â”€â”€â”               â”Œâ”€â”€â”€â”´â”€â”€â”€â”                   ç»“æŸ
   é€‰2     é€‰3             é€‰3     ç»“æŸ
     â”‚       â”‚               â”‚
backtrack(2) backtrack(2)  backtrack(3)
path=[1,2]  path=[1,3]     path=[2,3]
 â†“æ”¶é›†[1,2]   â†“æ”¶é›†[1,3]     â†“æ”¶é›†[2,3]
     â”‚           â”‚
   é€‰3         ç»“æŸ
     â”‚
backtrack(3)
path=[1,2,3]
 â†“æ”¶é›†[1,2,3]
```

### 8 æ¬¡æ”¶é›†é¡ºåºï¼ˆå®é™…è¿è¡Œç»“æœï¼‰

```js
[] 
[1]
[1,2]
[1,2,3]
[1,3]
[2]
[2,3]
[3]
```

å®Œç¾å¯¹åº”è¾“å‡ºï¼

---

### ä¸ºä»€ä¹ˆè¿™æ ·å†™ä¸ä¼šé‡å¤ï¼Ÿä¸ºä»€ä¹ˆæ¯æ¬¡éƒ½æ”¶é›†ï¼Ÿ

|ï¼Ÿ

| é—®é¢˜                  | ç­”æ¡ˆ                                                                 |
|-----------------------|----------------------------------------------------------------------|
| ä¸ºä»€ä¹ˆç”¨ `startIndex`ï¼Ÿ| ä¿è¯æ¯ä¸ªæ•°å­—åªåœ¨â€œå®ƒç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®â€è¢«é€‰æ‹©ï¼Œé¿å… `[1,2]` å’Œ `[2,1]` é‡å¤ |
| ä¸ºä»€ä¹ˆæ¯æ¬¡é€’å½’éƒ½æ”¶é›†ï¼Ÿ| å­é›†çš„å®šä¹‰æ˜¯â€œä»»æ„é€‰æˆ–ä¸é€‰â€ï¼Œæ‰€ä»¥æ¯ä¸€ç§é€‰æ‹©çŠ¶æ€éƒ½æ˜¯ä¸€ä¸ªåˆæ³•å­é›†ï¼       |
| ä¸ºä»€ä¹ˆä¸ç”¨ `used` æ•°ç»„ï¼Ÿ| å› ä¸ºå…ƒç´ ä¸é‡å¤ + ç”¨ `startIndex` æ§åˆ¶é¡ºåºï¼Œå°±å¤©ç„¶ä¸ä¼šé‡å¤             |

---

### ç»ˆæå£è¯€ï¼ˆé¢è¯•å¿…èƒŒï¼ï¼‰

> â€œå­é›†é—®é¢˜ä¸æ€•é‡å¤ï¼Œå…³é”®æ˜¯æ¯ä¸ªæ•°åªæœ‰ä¸€æ¬¡è¢«é€‰çš„æœºä¼šã€‚  
> ç”¨ startIndex æ§åˆ¶èµ·ç‚¹ï¼Œæ¯æ¬¡è¿›æ¥ç›´æ¥æ”¶é›†ï¼Œ  
> é€‰æˆ–ä¸é€‰ä¸¤ç§å†³ç­–ï¼Œç”¨é€’å½’å’Œ for å¾ªç¯å®Œç¾å®ç°ï¼â€

---

### æœ€ç»ˆç­”æ¡ˆï¼ˆæ¨èå†™æ³•ï¼‰

```js
```javascript
var subsets = function(nums) {
    const res = [];
    const path = [];

    const dfs = (start) => {
        res.push(path.slice());  // æ¯æ¬¡éƒ½æ”¶é›†ï¼

        for (let i = start; i < nums.length; i++) {
            path.push(nums[i]);
            dfs(i + 1);
            path.pop();
        }
    };

    dfs(0);
    return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n Ã— 2â¿)  
ç©ºé—´å¤æ‚åº¦ï¼šO(n) é€’å½’æ ˆ

è¿™å¥—æ¨¡æ¿è¿˜èƒ½ç§’æ€ï¼š
- 90. å­é›† IIï¼ˆæœ‰é‡å¤å…ƒç´ ï¼‰
- 78. å­é›†ï¼ˆæ— é‡å¤ï¼‰
- 46. å…¨æ’åˆ—
- 39. ç»„åˆæ€»å’Œ

å»ºè®®ä½ æŠŠè¿™æ£µæ ‘ç”»åœ¨ç™½çº¸ä¸Šï¼Œé¢è¯•æ—¶ç°åœºç”»ç»™é¢è¯•å®˜çœ‹ â€”â€” **é™ç»´æ‰“å‡»**ï¼

æ”¶è—ã€èƒŒç†Ÿã€é—­çœ¼å†™ï¼ç¥ä½ æ—©æ—¥æ‹¿ä¸‹å¤§å‚ Offerï¼
# 
ä¸‹é¢ç»™ä½  **æœ€æ¸…æ™°ã€æœ€æ ‡å‡†çš„å›æº¯ç”Ÿæˆå­é›†ï¼ˆå¹‚é›†ï¼‰å†™æ³•**ï¼Œå¹¶ç»“åˆç¤ºä¾‹è§£é‡Šæ€è·¯ã€‚

---

# ğŸ§  æ€è·¯ï¼šå›æº¯ï¼ˆå­é›†æ ‘ / ç»„åˆæ ‘ï¼‰

å­é›†é—®é¢˜ä¸å…¨æ’åˆ—ä¸åŒï¼š

* **å­é›†ä¸è¦æ±‚æ‰€æœ‰å…ƒç´ éƒ½å¿…é¡»ç”¨åˆ°ã€‚**
* **åœ¨æ¯ä¸€å±‚é€’å½’ä¸­ï¼Œéƒ½å¯ä»¥é€‰æ‹©åŠ å…¥å½“å‰å…ƒç´ æˆ–ä¸åŠ å…¥ã€‚**

å¸¸è§åšæ³•ï¼š

> åœ¨å›æº¯è¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€æ¬¡è¿›å…¥é€’å½’ï¼Œéƒ½æŠŠå½“å‰è·¯å¾„ `path` åŠ è¿›ç»“æœ `res`ã€‚

é€’å½’å‚æ•° `(start)` ä»£è¡¨ï¼š
â€œä» `nums[start]` è¿™ä¸ªä½ç½®å¼€å§‹ï¼Œå°è¯•é€‰ä¸‹ä¸€ä¸ªå…ƒç´ â€ã€‚

è¿™æ ·ä¹Ÿèƒ½ä¿è¯ä¸ä¼šäº§ç”Ÿé‡å¤å­é›†ã€‚

---

# âœ… JavaScript ä»£ç ï¼ˆå›æº¯æ³•ï¼‰

```js
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var subsets = function(nums) {
    const res = [];
    const path = [];

    const backtrack = (start) => {
        // æ¯åˆ°è¾¾ä¸€å±‚ï¼Œå°±æŠŠå½“å‰ path åŠ å…¥ç»“æœ
        res.push(path.slice());

        // ä» start å¼€å§‹å°è¯•åŠ å…¥æ–°çš„å…ƒç´ 
        for (let i = start; i < nums.length; i++) {
            path.push(nums[i]);        // é€‰æ‹© nums[i]
            backtrack(i + 1);          // é€’å½’ä¸‹ä¸€å±‚ï¼Œä¸‹ä¸€å±‚åªèƒ½ä» i+1 å¾€åé€‰
            path.pop();                // æ’¤é”€é€‰æ‹©
        }
    };

    backtrack(0);
    return res;
};
```

---

# ğŸ” ç”¨ä¾‹ï¼šnums = [1, 2, 3] çš„æœç´¢æ ‘

### åˆå§‹ï¼špath = []

åŠ å…¥ç»“æœï¼š`[]`

```
        []
    /     |     \
  [1]    [2]    [3]
 /  \     |       \
[1,2][1,3][2,3]   [3]
  |
[1,2,3]
```

ç”Ÿæˆé¡ºåºå¤§è‡´å¦‚ä¸‹ï¼š

1. `[]`
2. `[1]`
3. `[1,2]`
4. `[1,2,3]`
5. `[1,3]`
6. `[2]`
7. `[2,3]`
8. `[3]`

è¾“å‡ºï¼š

```js
[
  [], [1], [2], [1,2], [3], [1,3], [2,3], [1,2,3]
]
```

---

# ğŸ‰ å°æ€»ç»“

* å›æº¯æ¨¡æ¿éå¸¸ç®€æ´ï¼šè¿›å…¥æ¯å±‚é€’å½’å°±ä¿å­˜å½“å‰ `path`
* `start` å‚æ•°ä¿è¯ä¸ä¼šå‡ºç°é‡å¤å­é›†
* æ—¶é—´å¤æ‚åº¦ï¼šO(n * 2^n)ï¼Œå› ä¸ºæ€»å…±æœ‰ 2^n ä¸ªå­é›†

---

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»§ç»­ç»™ä½ ï¼š

* **æ›´ç›´è§‚çš„å›¾å½¢åŒ– DFS æ‰©å±•è¿‡ç¨‹**
* **ä½è¿ç®—æ³•ï¼ˆä½æ©ç ï¼‰ç”Ÿæˆæ‰€æœ‰å­é›†**
* **å­é›† II ç‰ˆæœ¬ï¼ˆå«é‡å¤æ•°å­—çš„å»é‡æŠ€å·§ï¼‰**

å‘Šè¯‰æˆ‘å³å¯ï¼
